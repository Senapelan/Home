<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senapelan Satu Pintu</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="Senapelan Satu Pintu">
    <meta name="apple-mobile-web-app-title" content="Senapelan">
    <meta name="description" content="Pelayanan terbaik lahir dari keikhlasan dan kebersamaan">
    <meta name="theme-color" content="#0066FF">
    <meta name="msapplication-TileColor" content="#0066FF">
    
    <!-- iOS Specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Open Graph utama -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://senapelan.github.io/Home/">
    <meta property="og:title" content="Senapelan Satu Pintu - berkomitmen memberikan pelayanan cepat, transparan, dan modern berbasis digital.">
    <meta property="og:description" content="Pelayanan terbaik lahir dari keikhlasan dan kebersamaan">
    <meta property="og:site_name" content="Senapelan">
    
    <!-- Gambar preview -->
    <meta property="og:image" content="https://senapelan.github.io/Home/data/foto/thumbnail.png">
    <meta property="og:image:secure_url" content="https://senapelan.github.io/Home/data/foto/thumbnail.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
    
    <!-- Twitter / X -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Senapelan Satu Pintu - berkomitmen memberikan pelayanan cepat, transparan, dan modern berbasis digital.">
    <meta name="twitter:description" content="Pelayanan terbaik lahir dari keikhlasan dan kebersamaan">
    <meta name="twitter:image" content="https://senapelan.github.io/Home/data/foto/thumbnail.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="/Home/manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/Home/data/foto/icon-apple/iconapple.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/Home/data/foto/icon-apple/iconapple.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/Home/data/foto/icon-apple/iconapple.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/Home/data/foto/icon-apple/iconapple.png">
    
    <!-- Favicon untuk berbagai browser -->
    <link rel="icon" type="image/png" sizes="32x32" href="/Home/data/foto/icon-andro/iconandro.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/Home/data/foto/icon-andro/iconandro.png">
    <link rel="icon" type="image/png" sizes="256x256" href="/Home/data/foto/icon-andro/iconandro.png">
    
    <!-- FAVICON -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Logo_lambang_kota_pekanbaru.png/960px-Logo_lambang_kota_pekanbaru.png">
    
    <style>
        /* =========================
           RESET DASAR & VARIABEL 2026
           ========================= */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        :root {
            --primary: #0066FF;
            --primary-light: #3399FF;
            --primary-dark: #0047CC;
            --secondary: #00D4AA;
            --dark: #0A0F2B;
            --light: #F5F9FF;
            --gradient: linear-gradient(135deg, #0066FF 0%, #00D4AA 100%);
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.15);
            --shadow: 0 20px 40px rgba(0, 102, 255, 0.15);
            --shadow-hover: 0 30px 60px rgba(0, 102, 255, 0.25);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --border-radius: 24px;
        }

        body {
            color: #fff;
            overflow-x: hidden;
            background: var(--dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .video-bg video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: blur(1px) brightness(0.7) contrast(1.1) saturate(1.2);
        }

        .overlay {
            position: fixed;
            inset: 0;
            background: linear-gradient(
                135deg,
                rgba(10, 15, 43, 0.9) 0%,
                rgba(0, 70, 204, 0.4) 50%,
                rgba(0, 212, 170, 0.2) 100%
            );
            z-index: -1;
        }

        .marquee {
            background: linear-gradient(90deg, transparent, rgba(0, 102, 255, 0.15), transparent);
            padding: 16px 0;
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--glass-border);
            border-bottom: 1px solid var(--glass-border);
        }

        .marquee::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--secondary), transparent);
        }

        .marquee span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 90s linear infinite;
            font-weight: 500;
            color: #B3E0FF;
            font-size: 1.1rem;
            text-shadow: 0 0 10px rgba(0, 212, 170, 0.3);
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        header {
            text-align: center;
            padding: 60px 40px 30px;
            position: relative;
            margin-bottom: 20px;
        }

        header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        header h1 {
            font-size: 3rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900 !important;
            letter-spacing: 1px;
            margin-bottom: 16px;
            text-shadow: 0 10px 30px rgba(0, 102, 255, 0.3);
            text-transform: uppercase;
            font-family: 'Segoe UI Black', system-ui, -apple-system, sans-serif;
        }

        header p {
            margin-top: 16px;
            font-size: 1.3rem;
            color: #E6F2FF;
            font-weight: 300;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
            position: relative;
            display: inline-block;
            padding: 0 50px;
        }

        header p::before {
            content: "‚ùù";
            position: absolute;
            left: 10px;
            top: -10px;
            color: var(--secondary);
            font-size: 2rem;
            opacity: 0.7;
        }

        header p::after {
            content: "‚ùû";
            position: absolute;
            right: 10px;
            bottom: -10px;
            color: var(--secondary);
            font-size: 2rem;
            opacity: 0.7;
        }

        .container {
            max-width: 1400px;
            margin: auto;
            padding: 20px 20px 80px;
            flex: 1;
        }

        .card-utama {
            max-width: 1000px;
            margin: 0 auto 80px;
            text-align: center;
            position: relative;
            width: 90%;
        }

        .card-utama a {
            display: block;
            text-decoration: none;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 50px 40px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .card-utama a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
        }

        .card-utama a:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: rgba(0, 102, 255, 0.3);
        }

        .card-utama .img-container {
            position: relative;
            display: inline-block;
            margin-bottom: 30px;
            width: 100%;
            max-width: 400px;
        }

        .card-utama img {
            width: 100%;
            height: auto;
            max-height: 220px;
            object-fit: contain;
            position: relative;
            z-index: 2;
            filter: drop-shadow(0 10px 20px rgba(0, 102, 255, 0.3));
            transition: var(--transition);
        }

        .card-utama .img-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110%;
            height: 110%;
            background: radial-gradient(circle, rgba(0, 102, 255, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            z-index: 1;
            animation: auraPulse 3s ease-in-out infinite;
            filter: blur(20px);
        }

        .card-utama .img-container::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            background: radial-gradient(circle, rgba(0, 212, 170, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            z-index: 1;
            animation: auraRotate 4s linear infinite;
            filter: blur(25px);
        }

        @keyframes auraPulse {
            0%, 100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.9; transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes auraRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .card-utama a:hover img {
            transform: scale(1.05);
            filter: drop-shadow(0 15px 30px rgba(0, 212, 170, 0.4));
        }

        .card-utama h3 {
            font-size: 2.2rem;
            color: #fff;
            font-weight: 700;
            margin-top: 25px;
            position: relative;
            padding-top: 20px;
        }

        .card-utama h3::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 50px 40px;
            justify-items: center;
            align-items: start;
        }

        .card {
            text-align: center;
            width: 100%;
            max-width: 380px;
            position: relative;
        }

        .card a {
            display: block;
            text-decoration: none;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 35px 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            transition: var(--transition);
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .card a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .card a:hover::before {
            transform: scaleX(1);
        }

        .card a:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
            border-color: rgba(0, 102, 255, 0.3);
        }

        .card .img-container {
            position: relative;
            display: inline-block;
            width: 100%;
            margin-bottom: 20px;
        }

        .card img {
            width: 100%;
            max-height: 160px;
            object-fit: contain;
            position: relative;
            z-index: 2;
            filter: drop-shadow(0 8px 16px rgba(0, 102, 255, 0.2));
            transition: var(--transition);
        }

        .card .img-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110%;
            height: 110%;
            background: radial-gradient(circle, rgba(0, 102, 255, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            z-index: 1;
            animation: auraPulseSmall 4s ease-in-out infinite;
            filter: blur(15px);
        }

        @keyframes auraPulseSmall {
            0%, 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.05); }
        }

        .card a:hover img {
            transform: scale(1.08);
            filter: drop-shadow(0 12px 24px rgba(0, 212, 170, 0.3));
        }

        .card h3 {
            margin-top: 15px;
            font-size: 1.5rem;
            font-weight: 600;
            color: #fff;
            line-height: 1.4;
            transition: var(--transition);
        }

        .card a:hover h3 {
            color: var(--secondary);
        }

        .visit-counter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            background: rgba(0, 0, 0, 0.45);
            backdrop-filter: blur(4px);
            padding: 6px 16px;
            border-radius: 50px;
            margin-top: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 1rem;
        }

        .visit-counter span:first-child {
            font-size: 1.2rem;
            color: var(--secondary);
        }

        .visit-count {
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 1.1rem;
        }

        .counter-update {
            animation: counterPulse 0.5s ease;
        }

        @keyframes counterPulse {
            0% { background: rgba(0, 212, 170, 0.2); }
            50% { background: rgba(0, 212, 170, 0.5); }
            100% { background: rgba(0, 212, 170, 0.2); }
        }

        .card {
            opacity: 0;
            transform: translateY(40px);
            animation: fadeUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }
        .card:nth-child(6) { animation-delay: 0.6s; }

        .footer {
            background: rgba(10, 15, 43, 0.95);
            backdrop-filter: blur(20px);
            padding: 40px 20px 30px;
            text-align: center;
            border-top: 1px solid rgba(0, 102, 255, 0.2);
            position: relative;
            margin-top: auto;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .footer-logo-item {
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .footer-logo-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(0, 102, 255, 0.3));
            transition: var(--transition);
        }

        .footer-logo-item img:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 15px rgba(0, 212, 170, 0.5));
        }

        .copyright {
            color: #B3E0FF;
            font-size: 1rem;
            font-weight: 300;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .copyright::before,
        .copyright::after {
            content: '‚ú¶';
            color: var(--secondary);
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #8CC8FF;
            text-decoration: none;
            font-size: 0.95rem;
            transition: var(--transition);
            position: relative;
            padding: 5px 0;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .footer-links a:hover {
            color: #fff;
        }

        .footer-links a:hover::after {
            transform: scaleX(1);
        }

        .footer-note {
            color: rgba(179, 224, 255, 0.6);
            font-size: 0.9rem;
            margin-top: 25px;
            font-style: italic;
            line-height: 1.5;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .install-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, rgba(10, 15, 43, 0.97) 0%, rgba(0, 71, 204, 0.95) 100%);
            color: white;
            padding: 18px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            z-index: 9999;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 -8px 35px rgba(0, 0, 0, 0.5);
            border-top: 2px solid var(--secondary);
            backdrop-filter: blur(25px);
            border-top-left-radius: 25px;
            border-top-right-radius: 25px;
        }

        .install-banner.active {
            transform: translateY(0);
        }

        .install-content {
            display: flex;
            align-items: center;
            gap: 15px;
            width: 100%;
            justify-content: center;
        }

        .install-icon {
            width: 55px;
            height: 55px;
            border-radius: 14px;
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.4);
            flex-shrink: 0;
            border: 2.5px solid var(--secondary);
            background: white;
            padding: 6px;
            object-fit: contain;
        }

        .install-text {
            text-align: center;
            flex: 1;
        }

        .install-text h4 {
            font-size: 1.2rem;
            margin-bottom: 6px;
            background: linear-gradient(90deg, #fff, var(--primary-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        .install-text p {
            font-size: 0.9rem;
            opacity: 0.9;
            color: #B3E0FF;
            line-height: 1.4;
        }

        .install-buttons {
            display: flex;
            gap: 12px;
            width: 100%;
            justify-content: center;
            align-items: center;
        }

        .install-btn {
            padding: 11px 25px;
            border-radius: 50px;
            background: var(--gradient);
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
            transition: var(--transition);
            white-space: nowrap;
            border: none;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.35);
            flex-shrink: 0;
        }

        .install-btn:hover {
            background: linear-gradient(135deg, #0052D4, #009688);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 102, 255, 0.5);
        }

        .close-banner {
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #E6F2FF;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 50px;
            transition: var(--transition);
            white-space: nowrap;
            letter-spacing: 0.3px;
            backdrop-filter: blur(10px);
        }

        .close-banner:hover {
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.3);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        @media (min-width: 1200px) {
            .grid { grid-template-columns: repeat(3, 1fr); }
            .card-utama { max-width: 1200px; }
            .card-utama img { max-height: 250px; }
        }

        @media (min-width: 992px) {
            .container { padding: 30px 40px 100px; }
            .card-utama { width: 95%; }
            .card-utama img { max-height: 220px; }
        }

        @media (max-width: 1199px) and (min-width: 768px) {
            .grid { grid-template-columns: repeat(2, 1fr); gap: 40px 30px; }
            .card-utama { max-width: 800px; margin-bottom: 60px; }
            .card-utama img { max-height: 180px; }
            .card-utama a { padding: 40px 30px; }
            .card-utama h3 { font-size: 1.8rem; }
        }

        @media (max-width: 767px) {
            .grid {
                grid-template-columns: 1fr;
                gap: 30px;
                margin-top: 20px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            
            .card-utama {
                margin: 0 auto 40px;
                width: 90%;
                max-width: 350px;
            }
            
            .card-utama a { padding: 30px 20px; }
            .card-utama .img-container { margin-bottom: 20px; }
            .card-utama img { max-height: 140px; }
            .card-utama h3 {
                font-size: 1.5rem;
                margin-top: 15px;
                padding-top: 15px;
            }
            .card-utama h3::before {
                width: 60px;
                height: 3px;
            }
            
            header { padding: 40px 20px 20px; }
            header h1 { font-size: 1.8rem; letter-spacing: 0.5px; }
            header p { font-size: 1.1rem; padding: 0 25px; }
            
            .install-banner { padding: 15px 20px; }
            .install-buttons { flex-direction: row; gap: 10px; width: 100%; }
            .install-btn { padding: 10px 20px; font-size: 0.85rem; flex: 1; }
            .close-banner { padding: 10px 15px; font-size: 0.85rem; flex: 1; }
            
            .card { max-width: 350px; width: 90%; margin: 0 auto; }
            .card a { padding: 25px 20px; }
            .card .img-container { margin-bottom: 15px; }
            .card img { max-height: 140px; }
            .card h3 {
                margin-top: 12px;
                font-size: 1.3rem;
                line-height: 1.3;
            }
            
            .footer-links { flex-direction: column; gap: 15px; }
            .marquee span { font-size: 1rem; }
        }

        @media (max-width: 480px) {
            header h1 { font-size: 1.5rem; }
            header p { font-size: 1rem; padding: 0 20px; }
            .card-utama { max-width: 320px; }
            .card-utama h3 { font-size: 1.3rem; }
            .card-utama img { max-height: 130px; }
            .card { max-width: 320px; }
            .card img { max-height: 130px; }
            .card h3 { font-size: 1.2rem; }
            
            .install-icon { width: 45px; height: 45px; }
            .install-text h4 { font-size: 1rem; }
            .install-text p { font-size: 0.8rem; }
            .install-btn { padding: 9px 15px; font-size: 0.8rem; }
            .close-banner { padding: 9px 15px; font-size: 0.8rem; }
            
            .copyright { flex-direction: column; gap: 5px; }
            .copyright::before,
            .copyright::after { display: none; }
        }

        html { scroll-behavior: smooth; }

        .glow {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 102, 255, 0.2) 0%, transparent 70%);
            filter: blur(40px);
            z-index: -1;
            pointer-events: none;
        }

        .glow-1 { top: 20%; left: 10%; }
        .glow-2 { bottom: 30%; right: 10%; }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(-20px); }
            15% { opacity: 1; transform: translateY(0); }
            85% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
    </style>
</head>
<body>

<!-- BACKGROUND -->
<div class="video-bg">
    <video autoplay muted loop>
        <source src="data/video/home.mp4" type="video/mp4">
    </video>
</div>
<div class="overlay"></div>

<!-- EFEK GLOW -->
<div class="glow glow-1"></div>
<div class="glow glow-2"></div>

<!-- RUNNING TEXT -->
<div class="marquee">
    <span>Selamat Datang di Kecamatan Senapelan Pelayanan Satu Pintu. Kami berkomitmen menghadirkan pelayanan publik yang cepat, mudah, transparan, dan humanis. Dengan semangat melayani dari hati, aparatur dan masyarakat berkolaborasi menciptakan tata kelola yang bersih, tertib, dan profesional. Senapelan terus menjaga nilai budaya Melayu sebagai jati diri, memperkuat kebersamaan, serta mendorong inovasi dan pelayanan berbasis kebutuhan masyarakat. Bersama langkah pembangunan kota, Kecamatan Senapelan hadir sebagai pusat pelayanan yang ramah, berbudaya, dan berorientasi pada kesejahteraan masyarakat</span>
</div>

<!-- HEADER -->
<header>
    <h1>SELAMAT DATANG DI PORTAL WEBSITE<br>SENAPELAN SATU PINTU</h1>
    <p>"Kami berkomitmen memberikan pelayanan cepat, transparan, dan modern berbasis digital."</p>
</header>

<!-- MENU -->
<div class="container">
    
    <!-- CARD UTAMA DENGAN COUNTER -->
    <div class="card card-utama" data-id="kecamatan-senapelan" data-url="https://kec-senapelan.pekanbaru.go.id/">
        <a href="#" onclick="return false;" class="card-link">
            <div class="img-container">
                <img src="data/foto/kecamatansenapelan.png">
            </div>
            <h3>Website Kecamatan Senapelan</h3>
            <div class="visit-counter">
                <span>üè†Ô∏é</span>
                <span class="visit-count" id="count-kecamatan-senapelan">0</span>
                <span>Kunjungan</span>
            </div>
        </a>
    </div>
    
    <!-- GRID 6 KELURAHAN DENGAN COUNTER -->
    <div class="grid">
        <div class="card" data-id="kampung-bandar" data-url="https://senapelan.github.io/Home/kelurahankampungbandar.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/kampungbandar.png">
                </div>
                <h3>Website Kelurahan Kampung Bandar</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-kampung-bandar">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>

        <div class="card" data-id="kampung-baru" data-url="https://senapelan.github.io/Home/kelurahankampungbaru.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/kampungbaru.png">
                </div>
                <h3>Website Kelurahan Kampung Baru</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-kampung-baru">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>

        <div class="card" data-id="kampung-dalam" data-url="https://senapelan.github.io/Home/kelurahankampungdalam.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/kampungdalam.png">
                </div>
                <h3>Website Kelurahan Kampung Dalam</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-kampung-dalam">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>

        <div class="card" data-id="padang-bulan" data-url="https://senapelan.github.io/Home/kelurahanpadangbulan.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/padangbulan.png">
                </div>
                <h3>Website Kelurahan Padang Bulan</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-padang-bulan">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>
        
        <div class="card" data-id="padang-terubuk" data-url="https://senapelan.github.io/Home/kelurahanpadangterubuk.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/padangterubuk.png">
                </div>
                <h3>Website Kelurahan Padang Terubuk</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-padang-terubuk">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>

        <div class="card" data-id="sago" data-url="https://senapelan.github.io/Home/kelurahansago.html">
            <a href="#" onclick="return false;" class="card-link">
                <div class="img-container">
                    <img src="data/foto/sago.png">
                </div>
                <h3>Website Kelurahan Sago</h3>
                <div class="visit-counter">
                    <span>üè†Ô∏é</span>
                    <span class="visit-count" id="count-sago">0</span>
                    <span>Kunjungan</span>
                </div>
            </a>
        </div>
    </div>
</div>

<!-- FOOTER -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-logo-container">
            <div class="footer-logo-item">
                <img src="https://senapelan.github.io/Home/data/foto/LOGOPEMKOT.png" alt="Logo Pemkot Pekanbaru">
            </div>
            <div class="footer-logo-item">
                <img src="https://senapelan.github.io/Home/data/foto/icon-andro/iconandro.png" alt="Logo Senapelan Satu Pintu">
            </div>
        </div>
        
        <div class="copyright">
            ¬© 2026 Senapelan Satu Pintu ‚Ä¢ Kecamatan Senapelan, Kota Pekanbaru
        </div>
        
        <div class="footer-links">
            <a href="https://kec-senapelan.pekanbaru.go.id/">Website Resmi</a>
            <a href="mailto:kecamatan.senapelan@gmail.com">Kontak Email</a>
            <a href="tel:+6281365256665">Telepon</a>
            <a href="https://www.google.com/maps/place/Jl.+Panglima+Undan+No.47+02,+Kp.+Bandar,+Kec.+Senapelan,+Kota+Pekanbaru,+Riau+28155/@0.5377592,101.4388393,3a,75y,302.13h,89.11t/data=!3m7!1e1!3m5!1sWn8d24hWiAMvIBPlrO_MIw!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D0.8863441419839404%26panoid%3DWn8d24hWiAMvIBPlrO_MIw%26yaw%3D302.127266574137!7i16384!8i8192!4m14!1m7!3m6!1s0x31d5ac7410cb7ca3:0xc34e201402cee35!2sKantor+Camat+Senapelan!8m2!3d0.537807!4d101.4387455!16s%2Fg%2F1tfflw2s!3m5!1s0x31d5ac7411b17aaf:0xc6d6a506add786ad!8m2!3d0.5377719!4d101.4387365!16s%2Fg%2F11fmyb_j9n?entry=ttu&g_ep=EgoyMDI2MDIwOC4wIKXMDSoASAFQAw%3D%3D">Lokasi</a>
        </div>
        
        <div class="footer-note">
            Inovasi pelayanan publik berbasis digital untuk kesejahteraan masyarakat.
            Semua hak dilindungi undang-undang.
        </div>
    </div>
</footer>

<!-- INSTALL BANNER -->
<div class="install-banner" id="installBanner">
    <div class="install-content">
        <img src="data/foto/icon-andro/icon512.png" alt="App Icon" class="install-icon">
        <div class="install-text">
            <h4>Pasang Aplikasi Senapelan Satu Pintu</h4>
            <p>Akses lebih mudah dengan memasang aplikasi di perangkat Anda</p>
        </div>
    </div>
    <div class="install-buttons">
        <button class="install-btn" id="installBtn">Pasang Sekarang</button>
        <button class="close-banner" id="closeBanner">Nanti Saja</button>
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="data/sound/home.mp3" type="audio/mpeg">
</audio>

<script>
// ============================================
// SENAPELAN COUNTER SYSTEM - VERSI FINAL DENGAN LOG
// ============================================

// üî¥ GANTI URL INI DENGAN URL DEPLOYMENT APPS SCRIPT ANDA!
const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw-vuk-JmDHnsyiWXXy8kb4M_kkOObjfLeCfmkWRFTeeYScUuL_aR9kd8ju5M583WeASg/exec';

// DATA COUNTER
let visitCounters = {
    'kecamatan-senapelan': 0,
    'kampung-bandar': 0,
    'kampung-baru': 0,
    'kampung-dalam': 0,
    'padang-bulan': 0,
    'padang-terubuk': 0,
    'sago': 0
};

// ============================================
// MUSIK BACKGROUND
// ============================================
document.addEventListener("click", function() {
    const music = document.getElementById("bgMusic");
    if (music) music.play();
}, { once: true });

// ============================================
// PWA INSTALL - DIPERTAHANKAN DARI ORIGINAL
// ============================================
let deferredPrompt;
const installBanner = document.getElementById('installBanner');
const installBtn = document.getElementById('installBtn');
const closeBanner = document.getElementById('closeBanner');

const isBannerDismissed = localStorage.getItem('senapelanBannerDismissed') === 'true';
const isAppInstalled = localStorage.getItem('senapelanAppInstalled') === 'true';

function isRunningAsPWA() {
    return window.matchMedia('(display-mode: standalone)').matches || 
           window.navigator.standalone === true;
}

function isIOS() {
    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
}

function showToast(message) {
    const toast = document.createElement('div');
    toast.textContent = message;
    toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #0066FF;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        z-index: 10000;
        animation: fadeInOut 3s ease-in-out;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    `;
    document.body.appendChild(toast);
    setTimeout(() => { toast.remove(); }, 3000);
}

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    if (!isBannerDismissed && !isAppInstalled && !isRunningAsPWA()) {
        setTimeout(() => { installBanner.classList.add('active'); }, 3000);
    }
    installBtn.textContent = 'Pasang Aplikasi';
});

window.addEventListener('appinstalled', (evt) => {
    console.log('Aplikasi berhasil diinstall!');
    installBanner.classList.remove('active');
    localStorage.setItem('senapelanAppInstalled', 'true');
    localStorage.setItem('senapelanBannerDismissed', 'true');
    showToast('Aplikasi Senapelan berhasil diinstal!');
});

installBtn.addEventListener('click', async (e) => {
    e.preventDefault();
    installBtn.style.transform = 'scale(0.95)';
    
    if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`User response to the install prompt: ${outcome}`);
        if (outcome === 'accepted') {
            localStorage.setItem('senapelanAppInstalled', 'true');
            localStorage.setItem('senapelanBannerDismissed', 'true');
            showToast('Menginstal aplikasi...');
        }
        deferredPrompt = null;
    } else if (isIOS()) {
        showIOSInstallInstructions();
    }
    
    setTimeout(() => { installBtn.style.transform = 'scale(1)'; }, 200);
});

function showIOSInstallInstructions() {
    const instructions = `
        <div style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: white;
            text-align: center;
        ">
            <h3 style="color: #00D4AA; margin-bottom: 30px;">Cara Install di iPhone/iPad:</h3>
            <ol style="text-align: left; max-width: 400px;">
                <li style="margin-bottom: 15px;">Tap ikon <strong>Share</strong> (kotak dengan panah ke atas)</li>
                <li style="margin-bottom: 15px;">Gulir ke bawah dan pilih <strong>"Tambahkan ke Layar Utama"</strong></li>
                <li style="margin-bottom: 15px;">Tap "Tambahkan" di pojok kanan atas</li>
                <li>Aplikasi akan muncul di layar utama Anda</li>
            </ol>
            <button id="closeInstructions" style="
                margin-top: 30px;
                padding: 12px 30px;
                background: #0066FF;
                color: white;
                border: none;
                border-radius: 25px;
                font-size: 16px;
                cursor: pointer;
            ">
                Tutup
            </button>
        </div>
    `;
    
    const div = document.createElement('div');
    div.innerHTML = instructions;
    document.body.appendChild(div);
    div.querySelector('#closeInstructions').addEventListener('click', () => { div.remove(); });
}

closeBanner.addEventListener('click', () => {
    installBanner.classList.remove('active');
    localStorage.setItem('senapelanBannerDismissed', 'true');
    closeBanner.style.transform = 'scale(0.95)';
    setTimeout(() => { closeBanner.style.transform = 'scale(1)'; }, 200);
});

// ============================================
// LOAD DATA DARI SPREADSHEET (JSONP)
// ============================================
function loadCountersFromSheet() {
    console.log('üì° Mengambil data kunjungan...');
    loadFromLocalStorage();
    
    const callbackName = 'jsonp_callback_' + Date.now();
    
    window[callbackName] = function(response) {
        if (response && response.success && response.data) {
            visitCounters = { ...visitCounters, ...response.data };
            saveToLocalStorage();
            updateAllCounters();
            console.log('‚úÖ Data berhasil dimuat:', visitCounters);
        }
        delete window[callbackName];
        if (document.body.contains(script)) document.body.removeChild(script);
    };
    
    const script = document.createElement('script');
    script.src = `${APPS_SCRIPT_URL}?action=get&callback=${callbackName}&t=${Date.now()}`;
    document.body.appendChild(script);
    
    setTimeout(() => {
        if (window[callbackName]) {
            delete window[callbackName];
            if (document.body.contains(script)) document.body.removeChild(script);
        }
    }, 10000);
}

// ============================================
// UPDATE COUNTER + LOG
// ============================================
function updateCounterToSheet(id, url) {
    visitCounters[id] = (visitCounters[id] || 0) + 1;
    updateSingleCounter(id);
    saveToLocalStorage();
    console.log(`üì§ Update ${id}: ${visitCounters[id]}`);
    
    const callbackName = 'update_callback_' + Date.now();
    
    window[callbackName] = function(response) {
        if (response && response.success) {
            if (response.data && response.data.current) {
                visitCounters[id] = response.data.current;
                updateSingleCounter(id);
                saveToLocalStorage();
                console.log(`‚úÖ ${id}: ${response.data.current} kunjungan`);
            }
        }
        delete window[callbackName];
        if (document.body.contains(script)) document.body.removeChild(script);
    };
    
    const script = document.createElement('script');
    const params = new URLSearchParams({
        action: 'update',
        id: id,
        url: url,
        userAgent: navigator.userAgent,
        ip: 'unknown',
        callback: callbackName,
        t: Date.now()
    }).toString();
    
    script.src = `${APPS_SCRIPT_URL}?${params}`;
    document.body.appendChild(script);
}

// ============================================
// LOCAL STORAGE
// ============================================
function saveToLocalStorage() {
    localStorage.setItem('senapelan_visitors', JSON.stringify(visitCounters));
}

function loadFromLocalStorage() {
    const saved = localStorage.getItem('senapelan_visitors');
    if (saved) {
        try {
            const data = JSON.parse(saved);
            visitCounters = { ...visitCounters, ...data };
            updateAllCounters();
        } catch (e) {}
    }
}

// ============================================
// UPDATE TAMPILAN
// ============================================
function updateAllCounters() {
    Object.keys(visitCounters).forEach(key => {
        const el = document.getElementById(`count-${key}`);
        if (el) el.textContent = visitCounters[key]?.toLocaleString() || '0';
    });
}

function updateSingleCounter(id) {
    const el = document.getElementById(`count-${id}`);
    if (el) {
        el.textContent = visitCounters[id]?.toLocaleString() || '0';
        el.classList.add('counter-update');
        setTimeout(() => el.classList.remove('counter-update'), 500);
    }
}

// ============================================
// HANDLE CLICK CARD
// ============================================
function handleCardClick(e, id, url) {
    e.preventDefault();
    
    const card = e.currentTarget.closest('.card');
    if (card) {
        card.style.transform = 'scale(0.98)';
        setTimeout(() => card.style.transform = '', 200);
    }
    
    updateCounterToSheet(id, url);
    
    setTimeout(() => {
        window.location.href = url;
    }, 300);
}

// ============================================
// INITIALIZATION
// ============================================
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ SENAPELAN COUNTER SYSTEM - WITH LOG');
    
    // Load data
    loadFromLocalStorage();
    setTimeout(loadCountersFromSheet, 500);
    
    // Attach event listeners untuk counter
    document.querySelectorAll('.card').forEach(card => {
        const link = card.querySelector('.card-link');
        const id = card.dataset.id;
        const url = card.dataset.url;
        
        if (link && id && url) {
            link.removeEventListener('click', handleCardClick);
            link.addEventListener('click', function(e) {
                handleCardClick(e, id, url);
            });
        }
    });
    
    // Auto refresh setiap 30 detik
    setInterval(() => {
        if (!document.hidden) loadCountersFromSheet();
    }, 30000);
    
    // ============================
    // EFEK INTERAKTIF DARI ORIGINAL
    // ============================
    const cards = document.querySelectorAll('.card a');
    
    cards.forEach(card => {
        card.addEventListener('mouseenter', function(e) {
            const card = this;
            const img = card.querySelector('img');
            const title = card.querySelector('h3');
            
            setTimeout(() => { card.style.transform = 'translateY(-8px)'; }, 50);
            setTimeout(() => { if (img) img.style.transform = 'scale(1.08)'; }, 100);
            setTimeout(() => { if (title) title.style.color = '#00D4AA'; }, 150);
        });
        
        card.addEventListener('mouseleave', function(e) {
            const card = this;
            const img = card.querySelector('img');
            const title = card.querySelector('h3');
            
            setTimeout(() => { card.style.transform = 'translateY(0)'; }, 50);
            setTimeout(() => { if (img) img.style.transform = 'scale(1)'; }, 100);
            setTimeout(() => { if (title) title.style.color = '#fff'; }, 150);
        });
    });
    
    // Efek parallax
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const video = document.querySelector('.video-bg video');
        const overlay = document.querySelector('.overlay');
        
        if (video && overlay) {
            video.style.transform = `translateY(${scrolled * 0.05}px)`;
            overlay.style.opacity = 1 - (scrolled * 0.001);
        }
    });
});

// ============================================
// PWA SERVICE WORKER REGISTRATION
// ============================================
window.addEventListener('load', () => {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/Home/service-worker.js')
            .then(registration => {
                console.log('Service Worker registered with scope:', registration.scope);
            })
            .catch(error => {
                console.log('Service Worker registration failed:', error);
            });
    }
    
    if (isRunningAsPWA() || isAppInstalled) {
        installBanner.classList.remove('active');
    }
});

// ============================================
// DEBUG TOOLS
// ============================================
window.Senapelan = {
    data: visitCounters,
    refresh: loadCountersFromSheet,
    reset: function() {
        visitCounters = {
            'kecamatan-senapelan': 0,
            'kampung-bandar': 0,
            'kampung-baru': 0,
            'kampung-dalam': 0,
            'padang-bulan': 0,
            'padang-terubuk': 0,
            'sago': 0
        };
        saveToLocalStorage();
        updateAllCounters();
        console.log('üîÑ Counter reset (local)');
    }
};
</script>
    
</body>
</html>
